(this["webpackJsonpcolor-collector"]=this["webpackJsonpcolor-collector"]||[]).push([[0],{13:function(e,t,s){},8:function(e,t,s){"use strict";s.r(t);var r=s(3),c=s(4),o=s(6),n=s(5),l=s(1),i=s.n(l),a=s(7),h=s.n(a),d=(s(13),s(0));function j(e){switch(e){case 1:return"red";case 2:return"green";case 3:return"blue";case 4:return"yellow"}}function u(e){return e>0?5*e+u(e-1):0}function b(e){return Object(d.jsx)("button",{className:"square "+j(e.value),onClick:e.onClick,children:e.value})}var m=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"renderGem",value:function(e){var t=this;return Object(d.jsx)(b,{value:this.props.squares[e],onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.rows;t++){for(var s=[],r=0;r<this.props.cols;r++)s.push(Object(d.jsx)("div",{children:this.renderGem(t*this.props.cols+r)},t*this.props.cols+r));e.push(Object(d.jsx)("div",{className:"board-row",children:s},t))}return Object(d.jsx)("div",{children:e})}}]),s}(i.a.Component),v=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(e){var c;Object(r.a)(this,s);return(c=t.call(this,e)).state={rows:8,cols:6,history:[{squares:c.generateBoard(48),score:0,gemsCollected:[0,0,0,0,0]}],stepNumber:0,movesLeft:100},c}return Object(c.a)(s,[{key:"generateBoard",value:function(e){for(var t=Array(e).fill(null),s=0;s<e;s++)t[s]=Math.floor(4*Math.random()+1);return t}},{key:"removeConnected",value:function(e,t,s,r){var c=e[r],o=1;e[r]=0,t>0&&e[r-this.state.cols]==c&&(o+=this.removeConnected(e,t-1,s,r-this.state.cols));for(var n=t;n>0;n--)e[n*this.state.cols+s]=e[(n-1)*this.state.cols+s];return e[s]=Math.floor(4*Math.random()+1),s>0&&e[r-1]==c&&(o+=this.removeConnected(e,t,s-1,r-1)),s<this.state.cols-1&&e[r+1]==c&&(o+=this.removeConnected(e,t,s+1,r+1)),t<this.state.rows-1&&e[r+this.state.cols]==c&&(o+=this.removeConnected(e,t+1,s,r+this.state.cols)),o}},{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),s=t[t.length-1],r=s.squares.slice();if(!(this.state.movesLeft<1)){var c=e%this.state.cols,o=Math.floor(e/this.state.cols),n=r[e],l=this.removeConnected(r,o,c,e),i=s.gemsCollected;i[0]+=l,i[n]+=l;var a=s.score+u(l);this.setState({history:t.concat([{squares:r,score:a,gemsCollected:i}]),stepNumber:t.length,movesLeft:this.state.movesLeft-1})}}},{key:"render",value:function(){var e=this,t=this.state.history[this.state.stepNumber],s="Score: "+t.score,r=this.state.movesLeft;return r=r>0?"Moves left: "+this.state.movesLeft:"No more moves! The end.",Object(d.jsxs)("div",{className:"game",children:[Object(d.jsxs)("div",{className:"game-info",children:[Object(d.jsx)("div",{children:s}),Object(d.jsx)("div",{className:"moves-left",children:r}),Object(d.jsxs)("div",{className:"gems-collected",children:["Gems collected:",Object(d.jsxs)("table",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:" Red: "}),Object(d.jsxs)("td",{children:[" ",t.gemsCollected[1]," "]})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:" Green: "}),Object(d.jsxs)("td",{children:[" ",t.gemsCollected[2]," "]})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:" Blue: "}),Object(d.jsxs)("td",{children:[" ",t.gemsCollected[3]," "]})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:" Yellow: "}),Object(d.jsxs)("td",{children:[" ",t.gemsCollected[4]," "]})]}),Object(d.jsx)("tr",{className:"line",children:Object(d.jsx)("td",{colspan:"2",children:Object(d.jsx)("hr",{})})}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:" Total: "}),Object(d.jsxs)("td",{children:[" ",t.gemsCollected[0]," "]})]})]})]})]}),Object(d.jsx)("div",{className:"game-board",children:Object(d.jsx)(m,{rows:this.state.rows,cols:this.state.cols,squares:t.squares,onClick:function(t){return e.handleClick(t)}})})]})}}]),s}(i.a.Component);h.a.render(Object(d.jsx)(v,{}),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.d970750c.chunk.js.map