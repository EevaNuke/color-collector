{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/templates/React/color-collector/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"C:/xampp/htdocs/templates/React/color-collector/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/xampp/htdocs/templates/React/color-collector/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/xampp/htdocs/templates/React/color-collector/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/xampp/htdocs/templates/React/color-collector/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ReactDOM from'react-dom';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function color(value){switch(value){case 1:return'red';break;case 2:return'green';break;case 3:return'blue';break;case 4:return'yellow';break;};}function Gem(props){return/*#__PURE__*/_jsx(\"button\",{className:'square '+color(props.value),onClick:props.onClick,children:props.value});}var Board=/*#__PURE__*/function(_React$Component){_inherits(Board,_React$Component);var _super=_createSuper(Board);function Board(){_classCallCheck(this,Board);return _super.apply(this,arguments);}_createClass(Board,[{key:\"renderGem\",value:function renderGem(i){var _this=this;return/*#__PURE__*/_jsx(Gem,{value:this.props.squares[i],onClick:function onClick(){return _this.props.onClick(i);}});}},{key:\"render\",value:function render(){var board=[];//loop rendering gems in rows\nfor(var i=0;i<this.props.rows;i++){var squares=[];for(var j=0;j<this.props.cols;j++){squares.push(/*#__PURE__*/_jsx(\"div\",{children:this.renderGem(i*this.props.cols+j)},i*this.props.cols+j));}board.push(/*#__PURE__*/_jsx(\"div\",{className:\"board-row\",children:squares},i));}return/*#__PURE__*/_jsx(\"div\",{children:board});}}]);return Board;}(React.Component);var Game=/*#__PURE__*/function(_React$Component2){_inherits(Game,_React$Component2);var _super2=_createSuper(Game);function Game(props){var _this2;_classCallCheck(this,Game);var rows=8;var cols=6;_this2=_super2.call(this,props);_this2.state={rows:rows,cols:cols,history:[{squares:_this2.generateBoard(rows*cols)}],stepNumber:0,movesLeft:10,score:0};return _this2;}_createClass(Game,[{key:\"generateBoard\",value:function generateBoard(size){var board=Array(size).fill(null);for(var i=0;i<size;i++){board[i]=Math.floor(Math.random()*4+1);// generate values 1-4\n}return board;}},{key:\"handleClick\",value:function handleClick(gemNo){var history=this.state.history.slice(0,this.state.stepNumber+1);var current=history[history.length-1];var squares=current.squares.slice();if(this.state.movesLeft<1)return;//remove gem, add score, fall gems\nvar col=gemNo%this.state.cols;var row=Math.floor(gemNo/this.state.cols);for(var i=row;i>0;i--){squares[i*this.state.cols+col]=squares[(i-1)*this.state.cols+col];}squares[col]=0;var newScore=this.state.score+1;//save move\nthis.setState({history:history.concat([{squares:squares}]),stepNumber:history.length,movesLeft:this.state.movesLeft-1,score:newScore});}},{key:\"render\",value:function render(){var _this3=this;var history=this.state.history;var current=history[this.state.stepNumber];var score=\"Score: \"+this.state.score;var movesLeft=this.state.movesLeft;if(movesLeft>0){movesLeft=\"Moves: \"+this.state.movesLeft;}else{movesLeft=\"No more moves! The end.\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"game-info\",children:[/*#__PURE__*/_jsx(\"div\",{children:score}),/*#__PURE__*/_jsx(\"div\",{children:movesLeft})]}),/*#__PURE__*/_jsx(\"div\",{className:\"game-board\",children:/*#__PURE__*/_jsx(Board,{rows:this.state.rows,cols:this.state.cols,squares:current.squares,onClick:function onClick(i){return _this3.handleClick(i);}})})]});}}]);return Game;}(React.Component);// ========================================\nReactDOM.render(/*#__PURE__*/_jsx(Game,{}),document.getElementById(\"root\"));function calculateWinner(squares){var lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(var i=0;i<lines.length;i++){var _lines$i=_slicedToArray(lines[i],3),a=_lines$i[0],b=_lines$i[1],c=_lines$i[2];if(squares[a]&&squares[a]===squares[b]&&squares[a]===squares[c]){return squares[a];}}return null;}","map":{"version":3,"sources":["C:/xampp/htdocs/templates/React/color-collector/src/index.js"],"names":["React","ReactDOM","color","value","Gem","props","onClick","Board","i","squares","board","rows","j","cols","push","renderGem","Component","Game","state","history","generateBoard","stepNumber","movesLeft","score","size","Array","fill","Math","floor","random","gemNo","slice","current","length","col","row","newScore","setState","concat","handleClick","render","document","getElementById","calculateWinner","lines","a","b","c"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nfunction color(value) {\r\n\tswitch(value) {\r\n\t\tcase 1: return 'red'; break;\r\n\t\tcase 2: return 'green'; break;\r\n\t\tcase 3: return 'blue'; break;\r\n\t\tcase 4: return 'yellow'; break;\r\n\t};\r\n}\r\n\r\nfunction Gem(props) {\r\n\treturn (\r\n\t\t<button className={'square '+color(props.value)} onClick={props.onClick}>\r\n\t\t\t{props.value}\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nclass Board extends React.Component {\r\n\trenderGem(i) {\r\n\t\treturn (\r\n\t\t\t<Gem\r\n\t\t\t\tvalue={this.props.squares[i]}\r\n\t\t\t\tonClick={() => this.props.onClick(i)}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst board = [];\r\n\t\t\r\n\t\t//loop rendering gems in rows\r\n\t\tfor(let i=0; i<this.props.rows; i++) {\r\n\t\t\tconst squares = [];\r\n\t\t\tfor(let j=0; j<this.props.cols; j++) \r\n\t\t\t\tsquares.push(<div key={i*this.props.cols+j}>\r\n\t\t\t\t\t{this.renderGem(i*this.props.cols+j)}\r\n\t\t\t\t</div>);\r\n\t\t\tboard.push(<div className=\"board-row\" key={i}>{squares}</div>);\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{board}\r\n\t\t\t</div>\r\n\t\t); \r\n\t}\r\n}\r\n\r\n\r\nclass Game extends React.Component {\r\n\tgenerateBoard(size) {\r\n\t\tlet board = Array(size).fill(null);\r\n\t\tfor(let i=0; i<size; i++) {\r\n\t\t\tboard[i] = Math.floor((Math.random()*4)+1);\t\t// generate values 1-4\r\n\t\t}\r\n\t\treturn board;\r\n\t}\r\n\t\r\n\tconstructor(props) {\r\n\t\tconst rows = 8;\r\n\t\tconst cols = 6; \r\n\t\t\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\trows: rows,\r\n\t\t\tcols: cols,\r\n\t\t\thistory: [\r\n\t\t\t\t{\r\n\t\t\t\t\tsquares: this.generateBoard(rows*cols), \r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tstepNumber: 0,\r\n\t\t\tmovesLeft: 10,\r\n\t\t\tscore: 0,\r\n\t\t};\r\n\t}\r\n\r\n\thandleClick(gemNo) {\r\n\t\tconst history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n\t\tconst current = history[history.length - 1];\r\n\t\tconst squares = current.squares.slice();\r\n\t\t\r\n\t\tif(this.state.movesLeft <1) return;\r\n\t\t\r\n\t\t//remove gem, add score, fall gems\r\n\t\tconst col = gemNo % this.state.cols;\r\n\t\tconst row = Math.floor(gemNo/this.state.cols);\t\r\n\t\t\r\n\t\tfor(let i=row; i>0; i--) {\r\n\t\t\tsquares[i*this.state.cols+col] = squares[(i-1)*this.state.cols+col];\r\n\t\t}\r\n\t\tsquares[col] = 0;\r\n\t\t\r\n\t\tconst newScore = this.state.score+1;\r\n\t\t\r\n\t\t//save move\r\n\t\tthis.setState({\r\n\t\t\thistory: history.concat([\r\n\t\t\t\t{\r\n\t\t\t\t\tsquares: squares,\r\n\t\t\t\t}\r\n\t\t\t]),\r\n\t\t\tstepNumber: history.length,\r\n\t\t\tmovesLeft: this.state.movesLeft-1,\r\n\t\t\tscore: newScore\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst history = this.state.history;\r\n\t\tconst current = history[this.state.stepNumber];\r\n\t\t\r\n\t\tconst score = \"Score: \"+this.state.score;\r\n\t\tlet movesLeft = this.state.movesLeft;\r\n\t\tif(movesLeft>0) {\r\n\t\t\tmovesLeft = \"Moves: \"+this.state.movesLeft;\r\n\t\t} else {\r\n\t\t\tmovesLeft = \"No more moves! The end.\";\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"game\">\r\n\t\t\t\t<div className=\"game-info\">\r\n\t\t\t\t\t<div>{score}</div>\r\n\t\t\t\t\t<div>{movesLeft}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"game-board\">\r\n\t\t\t\t\t<Board\r\n\t\t\t\t\t\trows={this.state.rows}\r\n\t\t\t\t\t\tcols={this.state.cols}\r\n\t\t\t\t\t\tsquares={current.squares}\r\n\t\t\t\t\t\tonClick={i => this.handleClick(i)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// ========================================\r\n\r\nReactDOM.render(<Game />, document.getElementById(\"root\"));\r\n\r\nfunction calculateWinner(squares) {\r\n\tconst lines = [\r\n\t\t[0, 1, 2],\r\n\t\t[3, 4, 5],\r\n\t\t[6, 7, 8],\r\n\t\t[0, 3, 6],\r\n\t\t[1, 4, 7],\r\n\t\t[2, 5, 8],\r\n\t\t[0, 4, 8],\r\n\t\t[2, 4, 6]\r\n\t];\r\n\tfor (let i = 0; i < lines.length; i++) {\r\n\t\tconst [a, b, c] = lines[i];\r\n\t\tif (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n\t\t\treturn squares[a];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}